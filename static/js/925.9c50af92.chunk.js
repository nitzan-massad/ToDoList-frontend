"use strict";(self.webpackChunkto_do_lists=self.webpackChunkto_do_lists||[]).push([[925],{8925:function(e,a,s){s.r(a),s.d(a,{default:function(){return N}});var t=s(4165),n=s(5861),i=s(1413),r=s(885),l=s(2791),u=s(2462),o=s(8306),p=s(8023),d=s(5094),c=s(230),m=s(6426),v=s(4496),x=s(9508),f=s(184),N=function(){var e=(0,l.useState)(!0),a=(0,r.Z)(e,2),s=a[0],N=a[1],h=(0,x.o)(),b=h.isLoading,j=h.error,Z=h.sendRequest,w=h.clearError,I=(0,l.useContext)(c.V),k=(0,d.c)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),g=(0,r.Z)(k,3),P=g[0],T=g[1],y=g[2],C=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(a){var n,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!s){e.next=13;break}return e.prev=2,e.next=5,Z("/api/users/login","POST",{email:P.inputs.email.value,password:P.inputs.password.value},{"Content-Type":"application/json"});case 5:n=e.sent,I.login(n.userId,n.firstName,n.lastName,n.token),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,Z("/api/users/signup","POST",{firstName:P.inputs.firstName.value,lastName:P.inputs.lastName.value,email:P.inputs.email.value,password:P.inputs.password.value},{"Content-Type":"application/json"});case 16:i=e.sent,I.login(i.userId,i.firstName,i.lastName,i.token),e.next=22;break;case 20:e.prev=20,e.t1=e.catch(13);case 22:case"end":return e.stop()}}),e,null,[[2,9],[13,20]])})));return function(a){return e.apply(this,arguments)}}();return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(v.Z,{error:j,onClear:w}),(0,f.jsxs)("div",{className:"authentication",children:[b&&(0,f.jsx)(m.Z,{asOverlay:!0}),(0,f.jsxs)("h2",{children:[" ",s?"LOGIN":"SIGNUP"]}),(0,f.jsxs)("form",{onSubmit:C,children:[!s&&(0,f.jsxs)("div",{className:"login-last-name-first-name__div",children:[(0,f.jsx)(u.Z,{element:"input",id:"firstName",type:"text",label:"First Name",validators:[(0,p.hg)()],errorText:"Please enter a first name.",onInput:T}),(0,f.jsx)(u.Z,{element:"input",id:"lastName",type:"text",label:"Last Name",validators:[(0,p.hg)()],errorText:"Please enter a last name.",onInput:T})]}),(0,f.jsx)(u.Z,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[(0,p.Ox)()],errorText:"Please enter a valid email address.",onInput:T}),(0,f.jsx)(u.Z,{element:"input",id:"password",type:"password",label:"Password",validators:[(0,p.CP)(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:T}),(0,f.jsx)(o.Z,{type:"submit",disabled:!P.isValid,children:s?"LOGIN":"SIGNUP"}),(0,f.jsx)("br",{})]}),(0,f.jsxs)("button",{className:"switch-login-signup__btn",inverse:"true",onClick:function(){s?y((0,i.Z)((0,i.Z)({},P.inputs),{},{firstName:{value:"",isValid:!1},lastName:{value:"",isValid:!1}}),!1):y((0,i.Z)((0,i.Z)({},P.inputs),{},{firstName:void 0,lastName:void 0}),P.inputs.email.isValid&&P.inputs.password.isValid),N((function(e){return!e}))},children:["SWITCH TO ",s?"SIGNUP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=925.9c50af92.chunk.js.map